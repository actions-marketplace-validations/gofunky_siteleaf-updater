name: check standard

on:
  push:
    branches: [ master ]

jobs:
  standard:
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        os: [ubuntu-latest]
    name: check standard style
    defaults:
      run:
        shell: bash
    steps:
      - uses: actions/checkout@v2.3.2
      - uses: bahmutov/npm-install@v1.1.0
      - name: running ncc
        run: ncc build action.js
      - name: creating pull request
        id: cpr
        uses: peter-evans/create-pull-request@v3.1.2
        with:
          commit-message: 'build(dist): update the distributed action script'
          title: 'Update distributed action script'
          body: |
            This pull requests updates the distributed version of the action script as described in the [GitHub Action docs](https://docs.github.com/en/actions/creating-actions/creating-a-javascript-action).
            Every update on the main branche will cause an update of this pull request. It only needs to be merged once a release is due.
          labels: |
            chore
          branch: dist
      - name: Check outputs
        run: |
          echo "Pull Request Number - ${{ steps.cpr.outputs.pull-request-number }}"
